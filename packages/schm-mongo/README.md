# schm

[![NPM version](https://img.shields.io/npm/v/schm.svg?style=flat-square)](https://npmjs.org/package/schm)

## Install

    $ npm install --save schm

## Usage

```js
const schema = require('schm')

const userSchema = schema({
  name: String,
  age: Number,
  height: Number,
  skills: [RegExp],
})

const user = userSchema.parse({ 
  name: 'Haz', 
  age: '27', 
  height: '1.88', 
  skills: ['code', 'design', 'astronomy'],
})
```

Output:

```js
{
  name: 'Haz',
  age: 27,
  height: 1.88,
  skills: [/code/i, /design/i, /astronomy/i],
}
```

The way you declare the schema object is very similar to [mongoose Schemas](http://mongoosejs.com/docs/guide.html). So, refer to their docs to learn more.

## API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

#### Table of Contents

-   [query](#query)
-   [Types](#types)
    -   [PathsMap](#pathsmap)

### query

Applies `operator` parser to the schema. Also translates fields to paths.

**Parameters**

-   `pathsMap` **[PathsMap](#pathsmap)** 

**Examples**

```javascript
const querySchema = schema({
  term: RegExp,
  after: { type: Date, operator: '$gte' },
  before: { type: Date, operator: '$lte' },
}, query({
  term: ['title', 'description'],
  after: 'date',
  before: 'date',
}))

querySchema.parse({ term: 'foo', after: '2018-01-01', before: '2018-03-03' })
// {
//   $and: [
//     { $or: [{ title: /foo/i }, { description: /foo/i }] },
//     { date: { $gte: 1514764800000 } },
//     { date: { $lte: 1520035200000 } },
//   ],
// }
```

### Types




#### PathsMap

Type: {}

## License

MIT Â© [Diego Haz](https://github.com/diegohaz)
